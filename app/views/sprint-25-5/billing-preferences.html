{% extends "layouts/main-branding-2025.html" %}

{% block pageTitle %}
  Billing preferences - Energy for Schools
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({text: "Back",href: "javascript:window.history.back()"}) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form class="form" action="billing-preferences" method="post">
      <span class="govuk-caption-l">{{ data['school'] }}: Billing preferences</span>
      <h1 class="govuk-heading-l">Setting up your billing</h1>
      {{ govukRadios({
        name: "paymentType",
        fieldset: {
          legend: {
            text: "How will the bills be paid?",
            classes: "govuk-fieldset__legend--s"
          }
        },
        items: [
          {
            value: "BACS",
            text: "BACS"
          },
          {
            value: "Direct Debit",
            text: "Direct Debit",
            checked: checked("paymentType", "Direct Debit")
          },
          {
            value: "Government Procurement Card",
            text: "Government Procurement Card",
            checked: checked("paymentType", "Government Procurement Card")
          }
        ]
      }) }}
      {{ govukRadios({
        name: "paymentTerms",
        fieldset: {
          legend: {
            text: "Payment terms",
            classes: "govuk-fieldset__legend--s"
          }
        },
        items: [
          {
            value: "14 days",
            text: "14 days",
            checked: checked("paymentTerms", "14 days")
          },
          {
            value: "21 days",
            text: "21 days",
            checked: checked("paymentTerms", "21 days")
          },
          {
            value: "28 days",
            text: "28 days",
            checked: checked("paymentTerms", "28 days")
          },
          {
            value: "30 days",
            text: "30 days",
            checked: checked("paymentTerms", "30 days")
          }
        ]
      }) }}
      {% set ebillHtml %}
        {{ govukInput({
          id: "invoice-ebilling",
          name: "invoiceByEmail",
          spellcheck: false,
          classes: "govuk-input--width-20",
          label: {
            text: "Email address"
          }
        }) }}
      {% endset -%}
      {{ govukRadios({
        name: "invoiceType",
        fieldset: {
          legend: {
            text: "How do you want to be invoiced?",
            classes: "govuk-fieldset__legend--s"
          }
        },
        items: [
          {
            value: "email",
            text: "Email",
            conditional: {
              html: ebillHtml
            }
          },
          {
            value: "paper",
            text: "Paper",
            conditional: {
              html: paperHtml
            }
          }
        ]
      }) }}
      <div class="govuk-button-group">
        {{ govukButton({text: "Save and continue"}) }}
        <a class="govuk-link" href="/tasklist">Discard and go
          to task list</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
